### Added by Zinit's installer
if [[ ! -f $HOME/.local/share/zinit/zinit.git/zinit.zsh ]]; then
    print -P "%F{33} %F{220}Installing %F{33}ZDHARMA-CONTINUUM%F{220} Initiative Plugin Manager (%F{33}zdharma-continuum/zinit%F{220})…%f"
    command mkdir -p "$HOME/.local/share/zinit" && command chmod g-rwX "$HOME/.local/share/zinit"
    command git clone https://github.com/zdharma-continuum/zinit "$HOME/.local/share/zinit/zinit.git" && \
        print -P "%F{33} %F{34}Installation successful.%f%b" || \
        print -P "%F{160} The clone has failed.%f%b"
fi

source "$HOME/.local/share/zinit/zinit.git/zinit.zsh"
autoload -Uz _zinit
(( ${+_comps} )) && _comps[zinit]=_zinit

# Load a few important annexes, without Turbo
# (this is currently required for annexes)
zinit light-mode for \
    zdharma-continuum/zinit-annex-as-monitor \
    zdharma-continuum/zinit-annex-bin-gem-node \
    zdharma-continuum/zinit-annex-patch-dl \
    zdharma-continuum/zinit-annex-rust

### End of Zinit's installer chunk

# PATH
export PATH=$HOME/bin:$PATH              # Home bin Path
export PATH=/usr/local/bin:$PATH         # User local Path
export PATH=$HOME/.local/bin:$PATH       # Home .local Path
export PATH=$HOME/scripts:$PATH          # Home custom scripts Path
export PATH=$HOME/.nimble/bin:$PATH      # Nimble (Nim Package Manager) Path
export PATH=/usr/local/go/bin:$PATH      # Go user Local Path
export PATH=$HOME/go/bin:$PATH           # Go local path
export PATH=$HOME/.emacs.d/bin:$PATH      # Emacs local path

# Zsh settings
# History Settings
HISTFILE=~/.zsh_history
HISTSIZE=10000
SAVEHIST=10000
setopt appendhistory

# Env Variables
# lesspipe
LESSOPEN="|lesspipe.sh %s"; export LESSOPEN
lessc () {/usr/share/vim/vim90/macros/less.sh "$@"}

EDITOR="nvim"; export EDITOR 

# Theme
PURE_PROMPT_SYMBOL=
PURE_PROMPT_VICMD_SYMBOL=

zinit ice pick'async.zsh' src'pure.zsh'
zinit light sindresorhus/pure

zinit wait lucid light-mode for \
    andydecleyre/zpy \
    unixorn/fzf-zsh-plugin \
    Aloxaf/fzf-tab \
    is-snippet ~/.dot_zsh/.ls.zshrc \
    OMZ::plugins/gitignore/gitignore.plugin.zsh \
    OMZ::plugins/sudo/sudo.plugin.zsh \
    OMZ::plugins/aws/aws.plugin.zsh \
    {{- if not .is_wsl }}
    atinit"ZINIT[COMPINIT_OPTS]=-C; zicompinit; zicdreplay" \
        zdharma-continuum/fast-syntax-highlighting \
    {{- end }}
    blockf atpull"zinit creinstall -q ." \
        zsh-users/zsh-completions \
    atload"_zsh_autosuggest_start" \
        zsh-users/zsh-autosuggestions \

# Aliases
alias v="nvim"
{{- if eq .chezmoi.osRelease.id "fedora" }}
alias cat="bat"
{{- else if eq .chezmoi.osRelease.id "debian"}}
alias cat="batcat"
{{-  end}}
alias ranger=". ranger"
alias gfc="fzf-git-checkout"


# Env Vars
QT_QPA_PLATFORM=xcb

# Environment Managers
# NVM
export NVM_DIR="$HOME/.nvm"
[ -s "$NVM_DIR/nvm.sh" ] && \. "$NVM_DIR/nvm.sh"  # This loads nvm
[ -s "$NVM_DIR/bash_completion" ] && \. "$NVM_DIR/bash_completion"  # This loads nvm bash_completion

# Pyenv
export PYENV_ROOT="$HOME/.pyenv"
command -v pyenv >/dev/null || export PATH="$PYENV_ROOT/bin:$PATH"
eval "$( pyenv init - --no-rehash )"



# Keybinds
bindkey "^[[H"      beginning-of-line
bindkey "^[[F"      end-of-line
bindkey "^[[1;5D"   vi-backward-blank-word
bindkey "^[[1;5C"   vi-forward-blank-word
bindkey "^[[3~"     kill-word

